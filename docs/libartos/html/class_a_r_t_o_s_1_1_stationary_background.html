<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>ARTOS: ARTOS::StationaryBackground Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ARTOS
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Adaptive Real-Time Object Detection System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_a_r_t_o_s_1_1_stationary_background.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_a_r_t_o_s_1_1_stationary_background-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ARTOS::StationaryBackground Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_stationary_background_8h_source.html">StationaryBackground.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ARTOS::StationaryBackground:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background__coll__graph.png" border="0" usemap="#_a_r_t_o_s_1_1_stationary_background_coll__map" alt="Collaboration graph"/></div>
<map name="_a_r_t_o_s_1_1_stationary_background_coll__map" id="_a_r_t_o_s_1_1_stationary_background_coll__map">
<area shape="rect" id="node2" href="struct_a_r_t_o_s_1_1_size.html" title="ARTOS::Size" alt="" coords="55,5,157,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab4d4619ee4ef7240429a7909c602a882"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespace_a_r_t_o_s.html#a9f0cbd8dd1ff2b0be33533930611e6e0">ScalarMatrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">CovMatrix</a></td></tr>
<tr class="separator:ab4d4619ee4ef7240429a7909c602a882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f50f3cc677d2918905cb1eea4bc7607"><td class="memItemLeft" align="right" valign="top">typedef Eigen::Array<br class="typebreak" />
&lt; <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">CovMatrix</a>, Eigen::Dynamic, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f50f3cc677d2918905cb1eea4bc7607">CovMatrixArray</a></td></tr>
<tr class="separator:a1f50f3cc677d2918905cb1eea4bc7607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fbcfbb120e3389f529d7ce310cc5359"><td class="memItemLeft" align="right" valign="top">typedef Eigen::Matrix<br class="typebreak" />
&lt; <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">CovMatrix</a>, Eigen::Dynamic, <br class="typebreak" />
Eigen::Dynamic, <br class="typebreak" />
Eigen::RowMajor &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a2fbcfbb120e3389f529d7ce310cc5359">CovMatrixMatrix</a></td></tr>
<tr class="separator:a2fbcfbb120e3389f529d7ce310cc5359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1b225c39687dfda1954462166579b8"><td class="memItemLeft" align="right" valign="top">typedef Eigen::Array&lt; int, <br class="typebreak" />
Eigen::Dynamic, <br class="typebreak" />
2, Eigen::RowMajor &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a0b1b225c39687dfda1954462166579b8">OffsetArray</a></td></tr>
<tr class="separator:a0b1b225c39687dfda1954462166579b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a869d75b3f778890f97a7c715a87b1cd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a869d75b3f778890f97a7c715a87b1cd5">StationaryBackground</a> ()</td></tr>
<tr class="separator:a869d75b3f778890f97a7c715a87b1cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7c921cdc38c5e6087393f938a06207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a0e7c921cdc38c5e6087393f938a06207">StationaryBackground</a> (const std::string &amp;backgroundFile)</td></tr>
<tr class="separator:a0e7c921cdc38c5e6087393f938a06207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8fadc07b34f8dd6117eac8405f6ab0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1a8fadc07b34f8dd6117eac8405f6ab0">StationaryBackground</a> (const std::shared_ptr&lt; <a class="el" href="class_a_r_t_o_s_1_1_feature_extractor.html">FeatureExtractor</a> &gt; &amp;featureExtractor)</td></tr>
<tr class="separator:a1a8fadc07b34f8dd6117eac8405f6ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb7e746a89b1d19af58eb55cad851cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#aadb7e746a89b1d19af58eb55cad851cb">StationaryBackground</a> (const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;other)=default</td></tr>
<tr class="separator:aadb7e746a89b1d19af58eb55cad851cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c45596746bf9b8f6d77adf8f7eceed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ad3c45596746bf9b8f6d77adf8f7eceed">readFromFile</a> (const std::string &amp;filename)</td></tr>
<tr class="separator:ad3c45596746bf9b8f6d77adf8f7eceed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c08daea150963119aea4b1a1167cae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a42c08daea150963119aea4b1a1167cae">writeToFile</a> (const std::string &amp;filename)</td></tr>
<tr class="separator:a42c08daea150963119aea4b1a1167cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3baa4f38a7cacbfe700208877522970"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#aa3baa4f38a7cacbfe700208877522970">clear</a> ()</td></tr>
<tr class="separator:aa3baa4f38a7cacbfe700208877522970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0385ffbb6ce834fa20a0ad9fb141d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f0385ffbb6ce834fa20a0ad9fb141d2">empty</a> () const </td></tr>
<tr class="separator:a1f0385ffbb6ce834fa20a0ad9fb141d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9a7a50f4e57211c7cae821327df1e4"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#aad9a7a50f4e57211c7cae821327df1e4">getNumFeatures</a> () const </td></tr>
<tr class="separator:aad9a7a50f4e57211c7cae821327df1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46d4c5ac3ec2490380beb06ae821c4f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab46d4c5ac3ec2490380beb06ae821c4f">getNumOffsets</a> () const </td></tr>
<tr class="separator:ab46d4c5ac3ec2490380beb06ae821c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6076681e9ec838fe30ea769e91f7a1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab6076681e9ec838fe30ea769e91f7a1b">getMaxOffset</a> () const </td></tr>
<tr class="separator:ab6076681e9ec838fe30ea769e91f7a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297919d54f44a7afb375c6876101f6b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a2fbcfbb120e3389f529d7ce310cc5359">CovMatrixMatrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a297919d54f44a7afb375c6876101f6b4">computeCovariance</a> (const int rows, const int cols)</td></tr>
<tr class="separator:a297919d54f44a7afb375c6876101f6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c89ea8e091929c601a385d3e98ec9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_a_r_t_o_s.html#a9f0cbd8dd1ff2b0be33533930611e6e0">ScalarMatrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4c89ea8e091929c601a385d3e98ec9b">computeFlattenedCovariance</a> (const int rows, const int cols, unsigned int features=0)</td></tr>
<tr class="separator:ab4c89ea8e091929c601a385d3e98ec9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dcb6a8a83e48a2f445f9d47595d5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a26dcb6a8a83e48a2f445f9d47595d5b9">learnMean</a> (<a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;imgIt, const unsigned int numImages=0, <a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a> progressCB=NULL, void *cbData=NULL)</td></tr>
<tr class="separator:a26dcb6a8a83e48a2f445f9d47595d5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050a5eda90bce9216943abd9f7915c33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a050a5eda90bce9216943abd9f7915c33">learnCovariance</a> (<a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;imgIt, const unsigned int numImages=0, const unsigned int maxOffset=19, <a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a> progressCB=NULL, void *cbData=NULL)</td></tr>
<tr class="separator:a050a5eda90bce9216943abd9f7915c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d4e5b03529ea326a88328bbbff379a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a17d4e5b03529ea326a88328bbbff379a">learnCovariance_accurate</a> (<a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;imgIt, const unsigned int numImages=0, const unsigned int maxOffset=19, <a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a> progressCB=NULL, void *cbData=NULL)</td></tr>
<tr class="separator:a17d4e5b03529ea326a88328bbbff379a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a004cff72d1fe787a2d253f65494a7846"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_a_r_t_o_s.html#a6374a1df2d907485bc2b71656f654598">FeatureCell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a004cff72d1fe787a2d253f65494a7846">mean</a></td></tr>
<tr class="separator:a004cff72d1fe787a2d253f65494a7846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac245fc9b8d97396d0d3e3deccb74169e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f50f3cc677d2918905cb1eea4bc7607">CovMatrixArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ac245fc9b8d97396d0d3e3deccb74169e">cov</a></td></tr>
<tr class="separator:ac245fc9b8d97396d0d3e3deccb74169e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444ecbce533275aede63154b14976ba7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a0b1b225c39687dfda1954462166579b8">OffsetArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a444ecbce533275aede63154b14976ba7">offsets</a></td></tr>
<tr class="separator:a444ecbce533275aede63154b14976ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19fa1e3a999181960e17eebafa08078"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_r_t_o_s_1_1_size.html">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ad19fa1e3a999181960e17eebafa08078">cellSize</a></td></tr>
<tr class="separator:ad19fa1e3a999181960e17eebafa08078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562671ec64d325a839a2ef062cf2da62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a562671ec64d325a839a2ef062cf2da62">learnedAllOffsets</a></td></tr>
<tr class="separator:a562671ec64d325a839a2ef062cf2da62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6f78ef0362e953f1dd19f131d57d5b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a6f78ef0362e953f1dd19f131d57d5b04">makeOffsetArray</a> (const unsigned int maxOffset)</td></tr>
<tr class="separator:a6f78ef0362e953f1dd19f131d57d5b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a36e636556f27abb836ee521e29502e47"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_a_r_t_o_s_1_1_feature_extractor.html">FeatureExtractor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a36e636556f27abb836ee521e29502e47">m_featureExtractor</a></td></tr>
<tr class="separator:a36e636556f27abb836ee521e29502e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for reading and writing stationary background statistics, i. e. general mean and covariance, from/to a binary file.</p>
<p>Beyond that, this class is also capable of reconstructing a covariance matrix of a specific size from the stationary autocorrelation function read before. The great deal behind this: Each covariance between two cells <img class="formulaInl" alt="$x_{i,j}$" src="form_5.png"/> and <img class="formulaInl" alt="$x_{m,n}$" src="form_6.png"/> only depends on the offset <img class="formulaInl" alt="$(m-i, n-j)$" src="form_7.png"/>. Since there are only N offsets given a total of N cells, the autocorrelation function only has to come up with <img class="formulaInl" alt="$\mathcal{O}(N \cdot num\_features^2)$" src="form_8.png"/> instead of <img class="formulaInl" alt="$\mathcal{O}(N^2 \cdot num\_features^2)$" src="form_9.png"/>, which the full covariance matrix needs. Therefore, N, i. e. the number of spatial offsets used for learning the statistics, is the upper bound for the number of rows and columns of reconstructed covariance matrices.</p>
<p>This class may also be used to learn such statistics from ImageNet images using <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a26dcb6a8a83e48a2f445f9d47595d5b9">learnMean()</a> and <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a050a5eda90bce9216943abd9f7915c33">learnCovariance()</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Bjoern Barz <a href="#" onclick="location.href='mai'+'lto:'+'bjo'+'er'+'n.b'+'ar'+'z@u'+'ni'+'-je'+'na'+'.de'; return false;">bjoer<span style="display: none;">.nosp@m.</span>n.ba<span style="display: none;">.nosp@m.</span>rz@un<span style="display: none;">.nosp@m.</span>i-je<span style="display: none;">.nosp@m.</span>na.de</a> </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ab4d4619ee4ef7240429a7909c602a882"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespace_a_r_t_o_s.html#a9f0cbd8dd1ff2b0be33533930611e6e0">ScalarMatrix</a> <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">ARTOS::StationaryBackground::CovMatrix</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Covariance matrix between features for a specific offset. </p>

</div>
</div>
<a class="anchor" id="a1f50f3cc677d2918905cb1eea4bc7607"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Eigen::Array&lt;<a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">CovMatrix</a>, Eigen::Dynamic, 1&gt; <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f50f3cc677d2918905cb1eea4bc7607">ARTOS::StationaryBackground::CovMatrixArray</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Vector of feature covariance matrices. </p>

</div>
</div>
<a class="anchor" id="a2fbcfbb120e3389f529d7ce310cc5359"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Eigen::Matrix&lt;<a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4d4619ee4ef7240429a7909c602a882">CovMatrix</a>, Eigen::Dynamic, Eigen::Dynamic, Eigen::RowMajor&gt; <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a2fbcfbb120e3389f529d7ce310cc5359">ARTOS::StationaryBackground::CovMatrixMatrix</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Matrix of feature covariance matrices (used in reconstruction process). </p>

</div>
</div>
<a class="anchor" id="a0b1b225c39687dfda1954462166579b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Eigen::Array&lt;int, Eigen::Dynamic, 2, Eigen::RowMajor&gt; <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a0b1b225c39687dfda1954462166579b8">ARTOS::StationaryBackground::OffsetArray</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array of spatial offsets. Each row is a (dx, dy) tuple. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a869d75b3f778890f97a7c715a87b1cd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::StationaryBackground::StationaryBackground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs uninitialized background statistics, which can be read later using <code>readFromFile</code>. </p>

</div>
</div>
<a class="anchor" id="a0e7c921cdc38c5e6087393f938a06207"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::StationaryBackground::StationaryBackground </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>backgroundFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs a new background statistics object and reads the statistics from a given file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">backgroundFile</td><td>Path of the binary background statistics file. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background_a0e7c921cdc38c5e6087393f938a06207_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_stationary_background_a0e7c921cdc38c5e6087393f938a06207_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_stationary_background_a0e7c921cdc38c5e6087393f938a06207_cgraph" id="class_a_r_t_o_s_1_1_stationary_background_a0e7c921cdc38c5e6087393f938a06207_cgraph">
<area shape="rect" id="node2" href="class_a_r_t_o_s_1_1_stationary_background.html#ad3c45596746bf9b8f6d77adf8f7eceed" title="ARTOS::StationaryBackground\l::readFromFile" alt="" coords="259,5,463,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1a8fadc07b34f8dd6117eac8405f6ab0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::StationaryBackground::StationaryBackground </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_a_r_t_o_s_1_1_feature_extractor.html">FeatureExtractor</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>featureExtractor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs an empty background statistics object for a given feature extractor. This is intended to be used when the object will be used to compute new statistics. Specifying the feature extractor is not necessary if you just want to reconstruct covariance matrices from existing statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">featureExtractor</td><td>A shared pointer to the feature extractor which will be used to compute image features. If a nullptr is passed, the default feature extractor will be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aadb7e746a89b1d19af58eb55cad851cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::StationaryBackground::StationaryBackground </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa3baa4f38a7cacbfe700208877522970"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StationaryBackground::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets this object to it's initial state by clearing all statistics and resizing all matrices and vectors to zero size. </p>

</div>
</div>
<a class="anchor" id="a297919d54f44a7afb375c6876101f6b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a2fbcfbb120e3389f529d7ce310cc5359">StationaryBackground::CovMatrixMatrix</a> StationaryBackground::computeCovariance </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reconstructs a covariance matrix from the spatial autocorrelation function for a specific number of rows and columns. The resulting 4-D matrix is of the form <code>cov(xy1, xy2)(feature1, feature2)</code>, while linearisation of a spatial position (x, y) to xy is done in row-major order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rows</td><td>Number of rows to reconstruct the covariance matrix for.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cols</td><td>Number of columns to reconstruct the covariance matrix for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The reconstructed covariance matrix.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#ab4c89ea8e091929c601a385d3e98ec9b">computeFlattenedCovariance</a> </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background_a297919d54f44a7afb375c6876101f6b4_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_stationary_background_a297919d54f44a7afb375c6876101f6b4_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_stationary_background_a297919d54f44a7afb375c6876101f6b4_cgraph" id="class_a_r_t_o_s_1_1_stationary_background_a297919d54f44a7afb375c6876101f6b4_cgraph">
<area shape="rect" id="node2" href="namespacestd.html#aef13da5baa79cdc514d9729bc0d870da" title="std::max" alt="" coords="259,12,333,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab4c89ea8e091929c601a385d3e98ec9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_a_r_t_o_s.html#a9f0cbd8dd1ff2b0be33533930611e6e0">ScalarMatrix</a> StationaryBackground::computeFlattenedCovariance </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>features</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reconstructs a covariance matrix from the spatial autocorrelation function for a specific number of rows and columns and flattens it into a 2-D matrix, so that the covariance between the k-th and the l-th feature of the cell at position (y, x) will be located at index <code>(y * numFeatures + k, x * numFeatures + l)</code> in the resulting matrix. </p>

</div>
</div>
<a class="anchor" id="a1f0385ffbb6ce834fa20a0ad9fb141d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ARTOS::StationaryBackground::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines if statistics are present or not.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the matrices and vectors holding the statistics have zero size. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6076681e9ec838fe30ea769e91f7a1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ARTOS::StationaryBackground::getMaxOffset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Maximum available offset in x or y direction or -1 if the offset array is empty. </dd></dl>

</div>
</div>
<a class="anchor" id="aad9a7a50f4e57211c7cae821327df1e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ARTOS::StationaryBackground::getNumFeatures </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of features each cell has. </dd></dl>

</div>
</div>
<a class="anchor" id="ab46d4c5ac3ec2490380beb06ae821c4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ARTOS::StationaryBackground::getNumOffsets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of spatial offsets available. </dd></dl>

</div>
</div>
<a class="anchor" id="a050a5eda90bce9216943abd9f7915c33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StationaryBackground::learnCovariance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>imgIt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>numImages</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxOffset</em> = <code>19</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a>&#160;</td>
          <td class="paramname"><em>progressCB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learns a spatial autocorrelation function from features extracted from different positions at various scales of a set of images. Use <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a42c08daea150963119aea4b1a1167cae">writeToFile()</a> to save the learned statistics afterwards.</p>
<p>To compute the autocorrelation function of two feature planes $fI$f and $fJ$f, this function leverages the Fourier transform and computes:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathcal{F}^{-1} \left ( \overline{\mathcal{F} \left(I \right) } \circ \mathcal{F} \left(J \right) \right ) \]" src="form_10.png"/>
</p>
<p>This is an order of magnitude faster than the method originally used by Hariharan et al., which is provided by <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a17d4e5b03529ea326a88328bbbff379a">learnCovariance_accurate()</a>. Since the Fourier transform implies a cyclic model at the borders of the image, the autocorrelation function computed with this efficient method won't exactly equal the one computed by <code><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a17d4e5b03529ea326a88328bbbff379a">learnCovariance_accurate()</a></code>. This inaccuracy results in a slight decrease of the performance of models learnt with the efficiently computed statistics (the deviation will be around 5% of the average precision of the other model, e. g. from 20% to 19%).</p>
<dl class="section note"><dt>Note</dt><dd>Computing the covariance matrices requires a mean feature vector, which has to be loaded from file or learned using <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a26dcb6a8a83e48a2f445f9d47595d5b9">learnMean()</a> in advance.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imgIt</td><td>An <a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> providing images to learn background statistics from. The iterator will be rewound at the beginning of the process.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numImages</td><td>Maximum number of images to learn from. If set to 0, all images provided by the iterator will be used (may take really, really long!).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxOffset</td><td>Maximum available offset in x or y direction of the autocorrelation function to be learned. Determines the maximum size of the reconstructible covariance matrix, which will be <code>maxOffset + 1</code>. In contrast to <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a17d4e5b03529ea326a88328bbbff379a">learnCovariance_accurate()</a>, this parameter has nearly no impact on the required time.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">progressCB</td><td>Optionally, a callback that is called to populate the progress of the procedure. The first parameter to the callback will be the number of processed images and the second parameter will be equal to <code>numImages</code>. For example, the argument list (5, 10) means that the learning is half way done. The callback may return false to abort the operation. To continue, it must return true. Note, that the callback will be used only if <code>numImages</code> is different from 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbData</td><td>Will be passed to the <code>progressCB</code> callback as third parameter. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background_a050a5eda90bce9216943abd9f7915c33_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_stationary_background_a050a5eda90bce9216943abd9f7915c33_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_stationary_background_a050a5eda90bce9216943abd9f7915c33_cgraph" id="class_a_r_t_o_s_1_1_stationary_background_a050a5eda90bce9216943abd9f7915c33_cgraph">
<area shape="rect" id="node2" href="class_a_r_t_o_s_1_1_image_iterator.html#aeb39d7d0f888c059d95429dfb4ec1661" title="ARTOS::ImageIterator\l::rewind" alt="" coords="278,5,431,46"/><area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_image_iterator.html#a3d3fcd5e58acf7e226fc45f7bef0f231" title="ARTOS::ImageIterator\l::ready" alt="" coords="278,70,431,111"/><area shape="rect" id="node4" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a05e9c73c5a6721ad9410b696cad718b5" title="ARTOS::JPEGImage::empty" alt="" coords="259,136,450,163"/><area shape="rect" id="node8" href="class_a_r_t_o_s_1_1_feature_pyramid.html#a3228d0b7b8cf14e56af3bcaf6bac341b" title="ARTOS::FeaturePyramid\l::levels" alt="" coords="271,187,439,229"/><area shape="rect" id="node5" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a6876061ad7198120040466d332a46bdc" title="ARTOS::JPEGImage::width" alt="" coords="501,85,688,112"/><area shape="rect" id="node6" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aa8a99643896fd76976cb6b1629d69746" title="ARTOS::JPEGImage::height" alt="" coords="499,136,690,163"/><area shape="rect" id="node7" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aed01a09f279c86cc1022d10f8a49204c" title="ARTOS::JPEGImage::depth" alt="" coords="501,187,688,213"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a17d4e5b03529ea326a88328bbbff379a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StationaryBackground::learnCovariance_accurate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>imgIt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>numImages</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxOffset</em> = <code>19</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a>&#160;</td>
          <td class="paramname"><em>progressCB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learns a spatial autocorrelation function from features extracted from different positions at various scales of a set of images. Use <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a42c08daea150963119aea4b1a1167cae">writeToFile()</a> to save the learned statistics afterwards.</p>
<dl class="section note"><dt>Note</dt><dd>This is the inefficient variant of computing such an autocorrelation function, adapted from the original code of Hariharan et al. It will take very, very long and, though it is provided here for computations with maximum accuracy, one may rather want to use the efficient <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a050a5eda90bce9216943abd9f7915c33">learnCovariance()</a> variant, which leverages the Fourier transform.</dd>
<dd>
Computing the covariance matrices requires a mean feature vector, which has to be loaded from file or learned using <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a26dcb6a8a83e48a2f445f9d47595d5b9">learnMean()</a> in advance.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imgIt</td><td>An <a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> providing images to learn background statistics from. The iterator will be rewound at the beginning of the process.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numImages</td><td>Maximum number of images to learn from. If set to 0, all images provided by the iterator will be used (may take really, really long!).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxOffset</td><td>Maximum available offset in x or y direction of the autocorrelation function to be learned. Determines the maximum size of the reconstructible covariance matrix, which will be <code>maxOffset + 1</code>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">progressCB</td><td>Optionally, a callback that is called to populate the progress of the procedure. The first parameter to the callback will be the number of processed images and the second parameter will be equal to <code>numImages</code>. For example, the argument list (5, 10) means that the learning is half way done. The callback may return false to abort the operation. To continue, it must return true. Note, that the callback will be used only if <code>numImages</code> is different from 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbData</td><td>Will be passed to the <code>progressCB</code> callback as third parameter. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background_a17d4e5b03529ea326a88328bbbff379a_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_stationary_background_a17d4e5b03529ea326a88328bbbff379a_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_stationary_background_a17d4e5b03529ea326a88328bbbff379a_cgraph" id="class_a_r_t_o_s_1_1_stationary_background_a17d4e5b03529ea326a88328bbbff379a_cgraph">
<area shape="rect" id="node2" href="class_a_r_t_o_s_1_1_image_iterator.html#aeb39d7d0f888c059d95429dfb4ec1661" title="ARTOS::ImageIterator\l::rewind" alt="" coords="278,5,431,46"/><area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_image_iterator.html#a3d3fcd5e58acf7e226fc45f7bef0f231" title="ARTOS::ImageIterator\l::ready" alt="" coords="278,70,431,111"/><area shape="rect" id="node4" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a05e9c73c5a6721ad9410b696cad718b5" title="ARTOS::JPEGImage::empty" alt="" coords="259,136,450,163"/><area shape="rect" id="node8" href="class_a_r_t_o_s_1_1_feature_pyramid.html#a3228d0b7b8cf14e56af3bcaf6bac341b" title="ARTOS::FeaturePyramid\l::levels" alt="" coords="271,187,439,229"/><area shape="rect" id="node5" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a6876061ad7198120040466d332a46bdc" title="ARTOS::JPEGImage::width" alt="" coords="501,85,688,112"/><area shape="rect" id="node6" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aa8a99643896fd76976cb6b1629d69746" title="ARTOS::JPEGImage::height" alt="" coords="499,136,690,163"/><area shape="rect" id="node7" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aed01a09f279c86cc1022d10f8a49204c" title="ARTOS::JPEGImage::depth" alt="" coords="501,187,688,213"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26dcb6a8a83e48a2f445f9d47595d5b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StationaryBackground::learnMean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>imgIt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>numImages</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_a_r_t_o_s.html#a12ce7e01b0c5b3408cc61c9a49cfd999">ProgressCallback</a>&#160;</td>
          <td class="paramname"><em>progressCB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learns a mean feature vector from features extracted from different positions at various scales of a set of images. After that, <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a050a5eda90bce9216943abd9f7915c33">learnCovariance()</a> may be used to learn a spatial autocorrelation function too. Use <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a42c08daea150963119aea4b1a1167cae">writeToFile()</a> to save the learned statistics afterwards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imgIt</td><td>An <a class="el" href="class_a_r_t_o_s_1_1_image_iterator.html">ImageIterator</a> providing images to learn background statistics from. The iterator will be rewound at the beginning of the process.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numImages</td><td>Maximum number of images to learn from. If set to 0, all images provided by the iterator will be used (may take really, really long!).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">progressCB</td><td>Optionally, a callback that is called to populate the progress of the procedure. The first parameter to the callback will be the number of processed images and the second parameter will be equal to <code>numImages</code>. For example, the argument list (5, 10) means that the learning is half way done. The callback may return false to abort the operation. To continue, it must return true. Note, that the callback will be used only if <code>numImages</code> is different from 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbData</td><td>Will be passed to the <code>progressCB</code> callback as third parameter. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_stationary_background_a26dcb6a8a83e48a2f445f9d47595d5b9_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_stationary_background_a26dcb6a8a83e48a2f445f9d47595d5b9_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_stationary_background_a26dcb6a8a83e48a2f445f9d47595d5b9_cgraph" id="class_a_r_t_o_s_1_1_stationary_background_a26dcb6a8a83e48a2f445f9d47595d5b9_cgraph">
<area shape="rect" id="node2" href="class_a_r_t_o_s_1_1_image_iterator.html#aeb39d7d0f888c059d95429dfb4ec1661" title="ARTOS::ImageIterator\l::rewind" alt="" coords="278,5,431,46"/><area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_image_iterator.html#a3d3fcd5e58acf7e226fc45f7bef0f231" title="ARTOS::ImageIterator\l::ready" alt="" coords="278,70,431,111"/><area shape="rect" id="node4" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a05e9c73c5a6721ad9410b696cad718b5" title="ARTOS::JPEGImage::empty" alt="" coords="259,136,450,163"/><area shape="rect" id="node8" href="class_a_r_t_o_s_1_1_feature_pyramid.html#a3228d0b7b8cf14e56af3bcaf6bac341b" title="ARTOS::FeaturePyramid\l::levels" alt="" coords="271,187,439,229"/><area shape="rect" id="node5" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#a6876061ad7198120040466d332a46bdc" title="ARTOS::JPEGImage::width" alt="" coords="501,85,688,112"/><area shape="rect" id="node6" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aa8a99643896fd76976cb6b1629d69746" title="ARTOS::JPEGImage::height" alt="" coords="499,136,690,163"/><area shape="rect" id="node7" href="class_a_r_t_o_s_1_1_j_p_e_g_image.html#aed01a09f279c86cc1022d10f8a49204c" title="ARTOS::JPEGImage::depth" alt="" coords="501,187,688,213"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f78ef0362e953f1dd19f131d57d5b04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StationaryBackground::makeOffsetArray </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxOffset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the <code>offsets</code> array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxOffset</td><td>Maximum available offset in x or y direction of the corresponding autocorrelation function. Determines the maximum size of the reconstructible covariance matrix, which will be <code>maxOffset + 1</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3c45596746bf9b8f6d77adf8f7eceed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StationaryBackground::readFromFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads background statistics from a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Path of the binary background statistics file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the file could be read successfully, false if it is inaccessible or invalid. <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f0385ffbb6ce834fa20a0ad9fb141d2">empty()</a> may also be used to check the status of this operation after it has finished. </dd></dl>

</div>
</div>
<a class="anchor" id="a42c08daea150963119aea4b1a1167cae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StationaryBackground::writeToFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the background statistics hold by this object to a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Path to write the file to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if these statistics aren't empty and the file could be written successfully, otherwise false. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad19fa1e3a999181960e17eebafa08078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_r_t_o_s_1_1_size.html">Size</a> ARTOS::StationaryBackground::cellSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of pixels per cell in each dimension used for training this background statistics. </p>

</div>
</div>
<a class="anchor" id="ac245fc9b8d97396d0d3e3deccb74169e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a1f50f3cc677d2918905cb1eea4bc7607">CovMatrixArray</a> ARTOS::StationaryBackground::cov</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stationary covariance matrices for each offset as spatial autocorrelation function. </p>

</div>
</div>
<a class="anchor" id="a562671ec64d325a839a2ef062cf2da62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ARTOS::StationaryBackground::learnedAllOffsets</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates if enough data for learning all offsets was available during <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a050a5eda90bce9216943abd9f7915c33">learnCovariance()</a>. If the product of cellSize and maxOffset is larger than the maximum size of the images available for learning, some offsets may be missing. </p>

</div>
</div>
<a class="anchor" id="a36e636556f27abb836ee521e29502e47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_a_r_t_o_s_1_1_feature_extractor.html">FeatureExtractor</a>&gt; ARTOS::StationaryBackground::m_featureExtractor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A shared pointer to the feature extractor used by this object for computation of background statistics. The feature extractor will <em>not</em> be used for reconstruction of covariance matrices from existing statistics. </p>

</div>
</div>
<a class="anchor" id="a004cff72d1fe787a2d253f65494a7846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_a_r_t_o_s.html#a6374a1df2d907485bc2b71656f654598">FeatureCell</a> ARTOS::StationaryBackground::mean</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stationary negative mean of features. </p>

</div>
</div>
<a class="anchor" id="a444ecbce533275aede63154b14976ba7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html#a0b1b225c39687dfda1954462166579b8">OffsetArray</a> ARTOS::StationaryBackground::offsets</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array of (dx, dy) spatial offsets corresponding to the elements of <code>cov</code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_stationary_background_8h_source.html">StationaryBackground.h</a></li>
<li><a class="el" href="_stationary_background_8cc.html">StationaryBackground.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_r_t_o_s.html">ARTOS</a></li><li class="navelem"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a></li>
    <li class="footer">Generated on Fri Mar 11 2016 14:53:42 for ARTOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
